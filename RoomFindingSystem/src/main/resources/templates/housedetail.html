<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="ThemeStarz">

    <link rel="shortcut icon" href="/static/assets/img/favicon.ico">
    <link href="/assets/fonts/font-awesome.css" rel="stylesheet" type="text/css">
    <link href="/assets/fonts/elegant-fonts.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700,900,400italic' rel='stylesheet'
          type='text/css'>
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/zabuto_calendar.min.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/owl.carousel.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/style.css" type="text/css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="shortcut icon" href="/assets/img/favicon.ico">
    <link
            rel="stylesheet"
            type="text/css"
            href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
          integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
          crossorigin="anonymous"/>
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>

    <link th:href="@{/assets_admin/libs/datatables/dataTables.bootstrap4.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets_admin/libs/datatables/buttons.bootstrap4.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets_admin/libs/datatables/responsive.bootstrap4.css}" rel="stylesheet" type="text/css"/>



    <title>Chi Tiết Nhà Trọ</title>

    <style>
        .mySlides {
            display: none;
        }
        .checked {
            color: orange;
        }

        .round-image {
            width: 50px; /* Đặt kích thước bất kỳ tùy theo nhu cầu của bạn */
            height: 50px; /* Đặt kích thước bất kỳ tùy theo nhu cầu của bạn */
            border-radius: 50%; /* Đặt bán kính bo góc thành 50% (hình tròn) */
            overflow: hidden; /* Ẩn các phần nằm ngoài phạm vi của hình tròn */
        }

        .round-image img {
            width: 100%; /* Đảm bảo bức ảnh luôn kích thước bằng với phần bọc */
            height: auto; /* Để tỷ lệ khung hình không bị thay đổi */
        }

        h4 {
            font-weight: bold
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .star {
            font-size: 19px;
        }

        .one {
            color: red;
        }

        .two {
            color: orangered;
        }

        .three {
            color: darkorange;
        }

        .four {
            color: orange;
        }

        .five {
            color: #FFCE45;
        }

        body {
            font-family: 'Arial', sans-serif;
        }
    </style>
    <style>
        div.wrapper ul {
            position: sticky;
            top: 0;
            padding: 10px;
            /*font-size: 10px;*/
        }
        .sidebar {
            position: absolute;
            top: 0;
        }



    </style>
    <style>
        .room-list {
            list-style-type: none;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }
        .room-item {
            margin-right: 10px;
            margin-bottom: 10px;
        }

        /*.room-button {*/
        /*    padding: 5px 10px; !* Giảm padding để làm cho button nhỏ lại *!*/
        /*    cursor: pointer;*/
        /*    color: #fff;*/
        /*    border: none;*/
        /*    border-radius: 3px; !* Giảm border-radius để làm cho góc nhọn hơn *!*/
        /*}*/

        .room-button1 {
            padding: 5px 10px;
            display: inline-block;
            cursor: pointer;
            color: #fff;
            border: none;
            border-radius: 3px;
            margin-right: 8px;
            height: 27.5px;
            width: 55px;
        }


        .room-button:hover {
            background-color: #2e6f30;
            color: #fff;
        }

        .room-button {
            position: relative;
            padding: 5px 10px;
            cursor: pointer;
            color: #fff;
            border: none;
            border-radius: 3px;
            background-color: #488f3e;
        }

        .room-button::after {
            content: attr(data-price);
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ccc; /* Đặt màu xám cho khối ::after */
            color: #000; /* Đặt màu chữ cho khối ::after */
            padding: 5px;
            border-radius: 3px;
            white-space: nowrap;
            display: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1; /* Đặt giá trị z-index cao hơn để nằm trên cùng */
        }

        .room-button:hover::after {
            display: block;
            opacity: 1;
        }

        .form-reservations h6 {
            margin-bottom: 20px; /* Điều chỉnh giá trị theo mong muốn của bạn */
        }
    </style>
    <title>Xem chi tiết nhà trọ</title>

</head>

<body>
<div class="page-wrapper">
    <div th:replace="~{header :: headerSection}"></div>
    <!--end page-header-->

    <div id="page-content">
        <div class="container" th:each="HousesEntity : ${HousesEntity}">
            <ol class="breadcrumb">
                <li><a th:href="@{/}">Trang chủ</a></li>

                <li><a th:href="@{/houselist}">Danh sách trọ</a></li>
                <li class="active">Chi Tiết</li>
            </ol>
            <!--end breadcrumb-->
            <div class="row">
                <div class=" col-md-3 col-sm-4">
                    <div class="sidebar">
                        <div class="box filter">

                            <aside>
                                <address>
                                    <strong>Tên Chủ Trọ</strong><br>
                                    <div>
                                        <p style="display: inline-block" th:text="${HousesEntity.firstName}"></p>
                                        <p style="display: inline-block" th:text="${HousesEntity.lastName}"></p>
                                    </div>

                                    <strong>Điện Thoại Liên Hệ:</strong>
                                    <p th:text="${HousesEntity.phone}"></p>
                                </address>
                            </aside>
                            <!--end form-group-inline-->
                            <div class="center">
                                <a href="#filter-advanced-search" class="link icon collapsed" data-toggle="collapse"
                                   aria-expanded="false" aria-controls="filter-advanced-search" id="toggleLink" onclick="changeText()"> XEM CHI TIẾT DỊCH VỤ +</a>
                            </div>
                            <div class="collapse" id="filter-advanced-search">
                                <div class="wrapper">
                                    <h3>Dịch vụ Trọ bao gồm:</h3>
                                    <section th:each="HouseService : ${HouseService}">

                                        <ul class="checkboxes list-unstyled">
                                            <li th:text="${HouseService.description}"></li>
                                        </ul>
                                        <!--end checkboxes-->

                                    </section>

                                </div>

                                <!--end filter-advanced-search-->
                            </div>
                            <!--end collapse-->
                            <div class="form-group center">
<!--                                <button type="submit" class="btn btn-primary btn-rounded form-control" style="border-radius: 5px">Liên Hệ-->
<!--                                </button>-->
                            </div>
                            </form>
                            <!--end form-filter-->
                        </div>
                        <!--end filter-->
                        <div class="box">
                            <h3 th:if="${HouseService.isEmpty()}"><strong> Chưa có dịch vụ</strong></h3>
                            <h3 th:if="${!HouseService.isEmpty()}"><strong> Dịch vụ trọ:</strong></h3>
                            <div style="margin-top: 10px">
                                <figure class="location" style="display: inline-block"
                                        th:each="HouseService,itestart : ${HouseService}" th:if="${itestart.index <= 15}">
                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Tự do'}"
                                                  style="margin-left: 5px" icon="mingcute:time-fill"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Tự do'}">Tự do</span>

                                    <!--                                    <i  class="fa-solid fa-user-xmark" style="margin-left: 5px"></i>-->
                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Không chung chủ'}"
                                                  style="margin-left: 5px" icon="uiw:user-delete"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Không chung chủ'}">Không chung chủ</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Bảo vệ'}"
                                                  style="margin-left: 5px"
                                                  icon="mdi:security-account"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Bảo vệ'}">Bảo vệ</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Khóa vân tay'}"
                                                  style="margin-left: 5px"
                                                  icon="material-symbols:fingerprint"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Khóa vân tay'}">Khóa Vân tay</span>

                                    <i th:if="${HouseService.getServiceName() eq 'Wifi'}" class="fa fa-wifi"
                                       aria-hidden="true" style="margin-left: 5px"></i>
                                    <span th:if="${HouseService.getServiceName() eq 'Wifi'}">Wifi</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Camera an ninh'}"
                                                  style="margin-left: 5px" icon="bxs:cctv"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Camera an ninh'}">Camera an ninh</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Tủ lạnh'}"
                                                  style="margin-left: 5px" icon="mdi:fridge"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Tủ lạnh'}">Tủ lạnh</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Giường ngủ'}"
                                                  style="margin-left: 5px" icon="material-symbols:bed"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Giường ngủ'}">Giường ngủ</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Máy giặt'}"
                                                  style="margin-left: 5px" icon="mdi:washing-machine"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Máy giặt'}">Máy giặt</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Kệ bếp'}"
                                                  style="margin-left: 5px"
                                                  icon="material-symbols:soup-kitchen-outline-rounded"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Kệ bếp'}">Kệ bếp</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Bình nóng lạnh'}"
                                                  style="margin-left: 5px"
                                                  icon="material-symbols-light:water-heater-outline"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Bình nóng lạnh'}">Bình nóng lạnh</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Gác xép'}"
                                                  style="margin-left: 5px"
                                                  icon="material-symbols:stairs"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Gác xép'}">Gác xép</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Bàn học'}"
                                                  style="margin-left: 5px" icon="ic:outline-table-bar"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Bàn học'}">Bàn học</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Tủ quần áo'}"
                                                  style="margin-left: 5px" icon="mdi:wardrobe-outline"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Tủ quần áo'}">Tủ quần áo</span>

                                    <iconify-icon th:if="${HouseService.getServiceName() eq 'Bếp Gas'}"
                                                  style="margin-left: 5px" icon="game-icons:gas-stove"></iconify-icon>
                                    <span th:if="${HouseService.getServiceName() eq 'Bếp Gas'}">Bếp Gas</span>

                                </figure>
                                <div th:each="HouseService,itestart : ${HouseService}" th:if="${HouseService.getServiceId() > 15}">
                                    <span>Dịch vụ khác: </span>
                                    <span th:text="${HouseService.getServiceName()}+', '"></span>
                                </div>
                            </div>

                        </div>
                        <!--end box-->
                        <aside class="box">
                            <h3><strong> Loại nhà trọ:</strong></h3>
                            <dl th:text="${HousesEntity.typeName}">

                            </dl>
                        </aside>
                        <aside class="box">
                            <h3><strong> Địa Chỉ Nhà Trọ:</strong></h3>
                            <dl th:text="${HousesEntity.addressDetail+', '+HousesEntity.ward+','+HousesEntity.district+', '+HousesEntity.province}">
                            </dl>
                            <!--                                        <dl th:text="${HousesEntity.addressDetail}"></dl>-->
                            <!--                                        <p>Xã: </p>-->
                            <!--                                        <dl th:text="${HousesEntity.ward}"></dl>-->
                            <!--                                        <p>Huyện: </p>-->
                            <!--                                        <dl th:text="${HousesEntity.district}"></dl>-->
                            <!--                                        <p>(Thành Phố / Tỉnh)</p>-->
                            <!--                                        <dl th:text="${HousesEntity.province}">-->
                            <!--                                        </dl>-->
                        </aside>
                        <!--                        <a href="#" class="advertising-banner">-->
                        <!--                            <span class="banner-badge">Advertising</span>-->
                        <!--                            <img src="assets/img/ad-banner-02.jpg" alt="">-->
                        <!--                        </a>-->
                    </div>
                    <!--end sidebar-->
                </div>
                <!--end col-md-3-->
                <div class="col-md-9 col-sm-8">
                    <div class="quick-navigation" data-fixed-after-touch="">
                        <div class="wrapper">
                            <ul>
                                <li><a href="#description" class="scroll">Miêu tả chi tiết</a></li>
                                <li><a href="#map" class="scroll">Bản đồ</a></li>
                                <li><a href="#facilities" class="scroll">Dịch vụ</a></li>
                                <li><a href="#additional-information" class="scroll">Thêm Thông Tin</a></li>
                                <li><a href="#reviews" class="scroll">Đánh giá</a></li>
                                <li></li>
                            </ul>
                        </div>
                    </div>


                    <div class="main-content">
                        <div class="title">
                            <div class="left">
                                <!--                                <h1 th:text="*{houseName}" >Mountain Paradise<span class="rating"><i class="fa fa-star"></i>9.9</span></h1>-->


                            </div>
                            <div class="right">


                                <a th:if="${session.user!=null}"><a th:if="${session.user.roleId=='STAFF' || session.user.roleId=='ADMIN'}" th:href="@{/admin/house-manager/detail/}+${HousesEntity.houseId}" class="btn btn-primary" style="border-radius: 5px;float: left;margin-left: 0">Chỉnh sủa trọ</a></a>

                                <a href="#map" class="icon scroll"><i class="fa fa-map-marker"></i>Tìm Trên Bản Đồ</a>
                                <a href="#availability" class="btn btn-primary btn-rounded scroll" style="border-radius: 5px">Danh sách phòng</a>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-md-6 col-sm-6">
                                <h2 th:text="${HousesEntity.houseName}" style="display: inline-block;"></h2>
                                <a href="#reviews" style="display: inline-block; margin-left: 10px;"
                                   th:if="${HousesEntity.star}!=0">
                                    <span th:text="'(Đánh giá: ' + ${HousesEntity.star} + ' '"></span><i
                                        class="fa fa-star" style="color: #FFCE45"></i><span>)</span>
                                </a>
                                <a href="#reviews" style="display: inline-block; margin-left: 10px;"
                                   th:if="${HousesEntity.star}==0">
                                    <span>Chưa có đánh giá</span>
                                </a>
                            </div>


                            <div class="col-md-6 col-sm-6 text-right" th:if="${user != null}">
                                <!-- Chia cột, dính về bên phải -->
                                <button type="button" class="btn btn-primary" data-toggle="modal"
                                        data-target="#reportModalCenter" style="background-color: red;border-radius: 5px"
                                        th:if="${checkReport==1}">
                                    <i class="fa fa-flag" style="color: #FFFFFF"></i><span style="color: #FFFFFF"
                                                                                           th:if="${checkReport==1}">  Báo cáo</span>
                                </button>

                                <button type="button" class="btn btn-primary" data-toggle="modal"
                                        data-target="#reportModalCenter" style="background-color: grey"
                                        th:if="${checkReport==0}">
                                    <i class="fa fa-flag" style="color: #FFFFFF"></i><span style="color: #FFFFFF"> Chờ xử lý báo cáo</span>
                                </button>

                            </div>
                            <div th:if="${user != null}" class="modal fade" id="reportModalCenter" tabindex="-1"
                                 role="dialog" aria-labelledby="reportModalCenterTitle" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">

                                            <form class="labels-uppercase clearfix" th:object="${reportEntity}"
                                                  th:action="@{/report}" method="post">
                                                <div class="comment-title">
                                                    <h4 th:if="${reportEntity.getTitle()==null}">Gửi báo cáo</h4>
                                                    <h4 th:if="${reportEntity.getTitle()!=null}">Chỉnh sửa báo cáo</h4>
                                                </div>
                                                <div class="review write">
                                                    <div class="comment" style="margin-top: 10px">

                                                        <!--end title-->
                                                        <div class="form-group">
                                                            <label>Tiêu đề:<em style="color: red">*</em></label>
                                                            <input type="text" class="form-control"
                                                                   name="name" placeholder="Viết tiêu đề ở đây"
                                                                   required=""
                                                                   th:field="*{title}">
                                                            <!--                                                            <select name="name" id="cars" name="name" th:field="*{title}">-->
                                                            <!--                                                                <option value="Hình ảnh, thông tin không đúng thực tế">Hình ảnh, thông tin không đúng thực tế</option>-->
                                                            <!--                                                                <option value="Giá nhà trọ quá cao so với chất lượng">Giá nhà trọ quá cao so với chất lượng</option>-->
                                                            <!--                                                                <option value="Chủ nhà không có thiện chí">Chủ nhà không có thiện chí</option>-->
                                                            <!--                                                                <option value="Khác">Khác</option>-->
                                                            <!--                                                            </select>-->
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Mô tả<em style="color: red">*</em></label>
                                                            <textarea class="form-control" rows="8"
                                                                      name="answer" required=""
                                                                      placeholder="Viết mô tả ở đây"
                                                                      th:field="*{reportDescription}"></textarea>
                                                        </div>
                                                        <!--end form-group-->
                                                    </div>
                                                    <!--end comment-->
                                                </div>
                                                <input type="hidden" th:field="*{userid}">
                                                <input type="hidden" th:field="*{houseid}">
                                                <div class="modal-footer" style="border-top: 0px">
                                                    <!--                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
                                                    <a th:href="@{/deleteReport(houseId=${houseId})}" th:if="${reportEntity.getTitle()!=null}">
                                                        <button type="button" class="btn btn-secondary">Xóa</button>
                                                    </a>
                                                    <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
                                                </div>
                                                <!--end review-->
                                            </form>
                                        </div>
                                        <!--                                        <div class="modal-footer" style="border-top: 0px">-->
                                        <!--                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
                                        <!--                                            <button type="submit" class="btn btn-primary">Save changes</button>-->
                                        <!--                                        </div>-->
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="one-item-carousel">

                            <!-- Carousel container -->
                            <!--                            <section id="gallery" th:each="HousesImages : ${HousesImages}">-->
                            <!--                                <div class="gallery-detail">-->
                            <!--                                    &lt;!&ndash;                                    <div class="ribbon"><div class="offer-number">20%</div><figure>Off Today!</figure></div>&ndash;&gt;-->
                            <!--                                    <div class="one-item-carousel">-->
                            <!--                                        <div class="image">-->

                            <!--                                            <img width="847" height="501" th:src="${HousesImages.houseImagesEntities}"-->
                            <!--                                                 alt="">-->
                            <!--                                        </div>-->

                            <!--                                    </div>-->
                            <!--                                </div>-->
                            <!--                            </section>-->
                            <!--                            end title-->

                        </div>

                        <div class="row">
                            <!--col-md-3-->
                            <div class="col-md-12 col-sm-9" style="padding-bottom: 50px;">
                                <div class="item big equal-height" data-map-latitude="48.87" data-map-longitude="2.29"
                                     data-id="1">
                                    <div class="item-wrapper">
                                        <div th:if="${HousesImages.size()<=1}" style="height: 500px;">
                                            <a class="wrapper">
                                                <div class="gallery">
                                                    <img style="width:100%;height:100% "
                                                         th:each="HousesImages : ${HousesImages}"
                                                         th:src="'https://storage.googleapis.com'+${HousesImages.houseImagesEntities}" alt="">
                                                </div>
                                            </a>
                                            <!--end owl-navigation-->
                                        </div>
                                        <div class="image" th:if="${HousesImages.size()>1}"  style="height: 500px;">
                                            <a class="wrapper">
                                                <div class="gallery">
                                                    <img style="width:100%;height:100% "
                                                         th:each="HousesImages : ${HousesImages}"
                                                         th:src="'https://storage.googleapis.com'+${HousesImages.houseImagesEntities}" alt="">
                                                </div>
                                            </a>
                                            <div class="owl-navigation"></div>
                                            <!--end owl-navigation-->
                                        </div>
                                        <!--end image-->
                                        <!--end description-->
                                        <div class="map-item">
                                            <button class="btn btn-close"><i class="fa fa-close"></i></button>
                                            <div class="map-wrapper"></div>
                                        </div>
                                        <!--end map-item-->
                                    </div>
                                </div>
                                <!--end item-->
                            </div>
                            <!--end row-->
                            <!--end row-->


                            <!--end center-->
                        </div>

                        <!--                        <p th:text="${HousesEntity.houseImagesEntities}"></p>-->
                        <!--                        <img th:src="${HousesEntity.houseImagesEntities}" alt="">-->
                        <div class="row" th:object="${HousesEntity}">
                            <div class="col-md-12" >
                                <section id="description">
                                    <h3 style="color: rgba(31, 31, 31, 0.8);" th:text="${HousesEntity.description}">
                                        Spend Great Time in Our Hotel!</h3>
                                </section>
                                <!--                                <section id="facilities">-->
                                <!--                                    <h2>Dịch Vụ</h2>-->
                                <!--                                    <ul class="bullets half" th:each="HouseService : ${HouseService}">-->
                                <!--                                        &lt;!&ndash;                                        th:text="${HousesEntity.serviceName}"&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                        th:text="${HousesEntity.serviceName}"&ndash;&gt;-->
                                <!--                                        <li th:text="${HouseService.serviceName}">Sauna</li>-->
                                <!--                                        &lt;!&ndash;                                        <li>Fireplace or fire pit</li>&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                        <li>Outdoor Kitchen</li>&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                        <li>&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                            <div><img th:src="@{img/logo.jpeg}" alt=""></div>&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                        </li>&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                        <li>Trees and Landscaping</li>&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                        <li>Sun Room</li>&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                        <li>Family Room</li>&ndash;&gt;-->
                                <!--                                        &lt;!&ndash;                                        <li>Concrete Flooring</li>&ndash;&gt;-->
                                <!--                                    </ul>-->
                                <!--                                </section>-->

                                <!--                                                                <section id="map">-->
                                <!--                                                                    <h2>Map</h2>-->
                                <!--                                                                    <div id="map-item" class="map height-300 box"></div>-->
                                <div th:if="${houseLocation.latitude == null || houseLocation.longitude== null }">
                                    <h2>Map</h2>
                                    <span>Nhà trọ chưa cập nhật vị trí trên Google Map</span>
                                </div>
                                <div th:if="${houseLocation.latitude != null && houseLocation.longitude != null }">
                                    <section id="map">
                                        <h2>Map</h2>
                                        <div id="map-item" class="map height-300 box"></div>
                                        <input id="latitude" type="hidden" th:value="${houseLocation.latitude}">
                                        <input id="longitude" type="hidden" th:value="${houseLocation.longitude}">
                                        <div>
                                            <label for="locationType">Lấy vị trí từ:</label>
                                            <select id="locationType">
                                                <option value="current">Vị trí hiện tại</option>
                                                <option value="fixed">Vị trí cố định</option>
                                            </select>
                                        </div>
                                        <button type="button" class="btn btn-primary btn-rounded scroll" style="margin-top: 20px; border-radius: 5px;"
                                                onclick="showDirections()">Chỉ đường
                                        </button>

                                        <!-- Thêm phần tử để chứa thông tin quãng đường và thời gian -->
                                        <div id="directions-info"></div>
                                    </section>
                                </div>


                            </div>
                            <!--end col-md-8-->
                            <div class="col-md-0">
                                <div class="sidebar">
                                    <!--                                    <aside class="box">-->
                                    <!--                                        <h3><strong> Loại nhà trọ:</strong></h3>-->
                                    <!--                                        <dl th:text="${HousesEntity.typeName}">-->

                                    <!--                                        </dl>-->
                                    <!--                                    </aside>-->
                                    <!--                                    <aside class="box">-->
                                    <!--                                        <h3><strong> Địa Chỉ Nhà Trọ:</strong></h3>-->
                                    <!--                                        <dl th:text="${HousesEntity.addressDetail+', '+HousesEntity.ward+','+HousesEntity.district+', '+HousesEntity.province}">-->
                                    <!--                                        </dl>-->
                                    <!--&lt;!&ndash;                                        <dl th:text="${HousesEntity.addressDetail}"></dl>&ndash;&gt;-->
                                    <!--&lt;!&ndash;                                        <p>Xã: </p>&ndash;&gt;-->
                                    <!--&lt;!&ndash;                                        <dl th:text="${HousesEntity.ward}"></dl>&ndash;&gt;-->
                                    <!--&lt;!&ndash;                                        <p>Huyện: </p>&ndash;&gt;-->
                                    <!--&lt;!&ndash;                                        <dl th:text="${HousesEntity.district}"></dl>&ndash;&gt;-->
                                    <!--&lt;!&ndash;                                        <p>(Thành Phố / Tỉnh)</p>&ndash;&gt;-->
                                    <!--&lt;!&ndash;                                        <dl th:text="${HousesEntity.province}">&ndash;&gt;-->
                                    <!--&lt;!&ndash;                                        </dl>&ndash;&gt;-->
                                    <!--                                    </aside>-->

                                </div>
                                <!--end sidebar-->
                            </div>
                            <!--end col-md-4-->
                        </div>
                        <!--end row-->
                        <section>
                            <!--                            <div><h2 style="display: inline-block ">Tại sao chọn</h2>  <strong><u><h2-->
                            <!--                                    style="display: inline-block " th:text="${HousesEntity.houseName}"></h2>-->
                            <!--                            </u></strong></div>-->

                            <!--end row-->
                        </section>
                        <section id="availability">

                            <!--                            <h2>Availability</h2>-->
                            <!--                            <form class="labels-uppercase" id="form-availability">-->
                            <!--                                <div class="row">-->
                            <!--                                    <div class="col-md-3">-->
                            <!--                                        <div class="form-group">-->
                            <!--                                            <label for="form-availability-check-in">Check In</label>-->
                            <!--                                            <input type="text" class="form-control date" id="form-availability-check-in"-->
                            <!--                                                   name="check-in" placeholder="Check In">-->
                            <!--                                        </div>-->
                            <!--                                    </div>-->
                            <!--                                    &lt;!&ndash;end col-md-3&ndash;&gt;-->
                            <!--                                    <div class="col-md-3">-->
                            <!--                                        <div class="form-group">-->
                            <!--                                            <label for="form-availability-check-out">Check In</label>-->
                            <!--                                            <input type="text" class="form-control date"-->
                            <!--                                                   id="form-availability-check-out" name="check-out"-->
                            <!--                                                   placeholder="Check In">-->
                            <!--                                        </div>-->
                            <!--                                    </div>-->
                            <!--                                    &lt;!&ndash;end col-md-3&ndash;&gt;-->
                            <!--                                    <div class="col-md-3">-->
                            <!--                                        <div class="form-group">-->
                            <!--                                            <label class="invisible">Hidden label</label>-->
                            <!--                                            <button type="submit"-->
                            <!--                                                    class="btn btn-primary btn-rounded btn-framed form-control">Search-->
                            <!--                                            </button>-->
                            <!--                                        </div>-->
                            <!--                                    </div>-->
                            <!--                                    &lt;!&ndash;end col-md-3&ndash;&gt;-->
                            <!--                                </div>-->
                            <!--                                &lt;!&ndash;end row&ndash;&gt;-->
                            <!--                            </form>-->

                            <div class="form-reservations">
                                <h2>Danh sách phòng</h2>
                                <div th:each="floorEntry : ${floorMap}">
                                    <h4 th:text="'Tầng ' + ${floorEntry.key}"></h4>
                                    <th:block th:each="typeEntry : ${floorEntry.value}">
                                        <h6 th:text="${typeEntry.key}"></h6>
                                        <ul class="room-list">
                                            <li class="room-item" th:each="room : ${typeEntry.value}">
                                                <a th:if="${room.status == 1}" class="room-button" style="background-color: #488f3e;"
                                                   th:href="@{'/house/' + ${room.houseName} + '/room/' + ${room.roomId}}"
                                                   th:text="${room.roomName}"
                                                   th:data-price="${room.price+'VNĐ'}">
                                                </a>
                                                <a th:if="${room.status == 0}" class="room-button" style="background-color: #E26A6A;"
                                                   th:href="@{'/house/' + ${room.houseName} + '/room/' + ${room.roomId}}"
                                                   th:text="${room.roomName}"
                                                   th:data-price="${room.price+'VNĐ'}">
                                                </a>
                                            </li>
                                        </ul>
                                    </th:block>
                                </div>

                                <div style="display: flex; align-items: center;">

                                    <!-- Khối đầu tiên -->
                                    <div style="display: flex; align-items: center">
                                        <a class="room-button1" style="background-color: #488f3e;cursor: auto"></a>
                                        <a>Còn trống</a>
                                    </div>

                                    <!-- Khoảng cách giữa hai khối -->
                                    <div style="margin-right: 20px;"></div>

                                    <!-- Khối thứ hai -->
                                    <div style="display: flex; align-items: center;">
                                        <a class="room-button1" style="background-color: #E26A6A;cursor: auto"></a>
                                        <a>Hết phòng</a>
                                    </div>

                                </div>

                            </div>
                            <!--end form-reservations-->
                        </section>
                        <section id="reviews">
                            <div class="title">
                                <h2 class="pull-left">Đánh giá</h2>
                                <div th:if="${user != null}">
                                    <a class="btn btn-primary btn-rounded pull-right scroll" type="button"
                                       data-toggle="modal" data-target="#exampleModal" th:if="${count == 0}" style="color: white;border-radius: 5px">Viết đánh
                                        giá</a>
                                </div>


                            </div>
                            <div class="filter-container" th:if="${feedbacks.size()!=0}">
                                <span style="margin-right: 10px">Lọc theo sao:</span>
                                <form th:action="@{'/house/' + ${houseName} + '#reviews'}" th:method="get" id="filterForm">
                                    <select name="star" class="framed" onchange="submitForm()" style="width: 70px">
                                        <option value="0">Tất cả</option>
                                        <option value="1" th:selected="${star==1}">1 sao</option>
                                        <option value="2" th:selected="${star==2}">2 sao</option>
                                        <option value="3" th:selected="${star==3}">3 sao</option>
                                        <option value="4" th:selected="${star==4}">4 sao</option>
                                        <option value="5" th:selected="${star==5}">5 sao</option>
                                    </select>
                                    <input name="id" th:value="${HousesEntity.getHouseId}" hidden="">
                                    <!-- Thêm một nút submit ẩn để có thể gửi form khi cần thiết -->
                                    <button type="submit" style="display:none;"></button>
                                </form>
                            </div>


                            <div class="reviews">
                                <div th:if="${feedbacks.size()==0}" style="text-align: center;">
                                    <img src="/assets/img/no-product.png" style="width: 50%; height: auto">
                                    <h2>Hiện tại đang chưa có đánh giá</h2>
                                </div>

                                <div th:each="feedback: ${feedbacks}">
                                    <div class="review">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="row">
                                                    <div class="col-md-3 col-xs-2">
                                                        <img class="round-image" th:src="'https://storage.googleapis.com'+${feedback.getUserImage()}"
                                                             style="margin-top: 15px; border-right: 10px">
                                                    </div>
                                                    <div class="col-md-9 col-xs-10">
                                                        <aside class="name"
                                                               th:text="${feedback.getUserFistName()}+ ' ' +${feedback.getUserLastName()}"></aside>
                                                        <!--                                                        <aside class="date" th:text="${#dates.format(feedback.getCreatedDate(), 'yyyy-MM-dd')}"></aside>-->
                                                        <aside class="">
                                                            <span th:each="i : ${#numbers.sequence(1, feedback.getStar())}">
                                                                <span class="fa fa-star checked" style="font-size: 10px"></span>
                                                            </span>
                                                            <span th:each="i : ${#numbers.sequence(feedback.getStar() + 1, 5)}" th:if="${feedback.getStar()<5}">
                                                                <span class="fa fa-star" style="font-size: 10px"></span>
                                                            </span>
                                                        </aside>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end col-md-3-->
                                            <div class="col-md-9">
                                                <div class="comment">
                                                    <div class="comment-title"
                                                         style="display: flex; justify-content: space-between; align-items: center; ">
                                                        <h4 style="font-weight: bold"
                                                            th:text="${feedback.getTitle()}"></h4>

                                                        <!-- Trong ví dụ này, chúng tôi sử dụng Thymeleaf để hiển thị hoặc ẩn nút dựa trên điều kiện -->
                                                        <div th:if="${user != null}">
                                                            <button type="button" class="btn btn-primary"
                                                                    data-toggle="modal" data-target="#exampleModal"
                                                                    style="background-color: #FFFFFF"
                                                                    th:if="${feedback.getUserId()} == ${user.getUserId()}">
                                                                <i class="fa fa-edit"
                                                                   style="margin-bottom: 16px; font-size: 21px; color: #0f0f0f"></i>
                                                            </button>

                                                        </div>

                                                    </div>


                                                    <!--end title-->
                                                    <p th:text="${feedback.getContent()}"></p>
                                                    <div class="clearfix options">
                                                        <aside class="date"
                                                               th:text="'Cật nhật ngày: '+${#temporals.format(feedback.getCreatedDate(), 'dd-MM-yyyy')}"></aside>

                                                    </div>
                                                    <!--end options-->
                                                    <!--                                                    <div class="answer">-->
                                                    <!--                                                        <h4>James Green, CEO of the Mountain Paradise Hotel</h4>-->
                                                    <!--                                                        <p>Phasellus venenatis vel orci et lacinia. Duis sollicitudin arcu-->
                                                    <!--                                                            et hendrerit-->
                                                    <!--                                                            tempor. Aliquam at urna fringilla, auctor tellus eget, vehicula-->
                                                    <!--                                                            lorem.-->
                                                    <!--                                                            Pellentesque ornare faucibus sapien eget max-->
                                                    <!--                                                        </p>-->
                                                    <!--                                                    </div>-->
                                                    <!--end answer-->
                                                </div>
                                                <!--end comment-->
                                            </div>
                                            <!--end col-md-9-->
                                        </div>
                                        <!--end row-->
                                    </div>
                                </div>
                                <div class="modal fade" id="exampleModal" tabindex="-1" th:if="${user != null}"
                                     role="dialog" aria-labelledby="exampleModalLabel"
                                     aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
<!--                                                <h5 class="modal-title"  th:if="${feedbackEntity != null}">Chỉnh sửa đánh giá</h5>-->
                                                <h5 class="modal-title"  th:if="${feedbackEntity.getStar()==0}">Viết đánh giá</h5>
                                                <h5 class="modal-title"  th:if="${feedbackEntity.getStar()!=0}">Chỉnh sửa đánh giá</h5>

                                                <button type="button" class="close"
                                                        data-dismiss="modal"
                                                        aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <form class="labels-uppercase clearfix"
                                                      th:object="${feedbackEntity}"
                                                      th:action="@{/detail}" method="post">
                                                    <!--                                <div class="alert alert-dark fade in center" role="alert">-->
                                                    <!--                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"-->
                                                    <!--                                            data-switch="#review-write">-->
                                                    <!--                                        <span aria-hidden="true">&times;</span>-->
                                                    <!--                                    </button>-->
                                                    <!--                                    <span class="sr-only">Error:</span>-->
                                                    <!--                                    <a href="#tab-sign-in" data-toggle="modal" data-tab="true"-->
                                                    <!--                                       data-target="#sign-in-register-modal">Xin mời đăng nhập để đánh giá</a>-->
                                                    <!--                                </div>-->
                                                    <div class="review write">
                                                        <span class="name">Tên người dùng: </span><span
                                                            th:if="${user != null}" th:text="${user.getFirstName()}"></span><span> </span><span
                                                            th:if="${user != null}" th:text="${user.getLastName()}"></span>


                                                        <div class="comment"
                                                             style="margin-top: 10px">
                                                            <div class="comment-title">
                                                                <h4>Đánh giá về khu trọ</h4>
                                                            </div>
                                                            <!--end title-->
                                                            <div class="form-group">
                                                                <label>Tiêu đề đánh
                                                                    giá<em>*</em></label>
                                                                <input type="text"
                                                                       class="form-control"
                                                                       name="name"
                                                                       placeholder="Viết tiêu đề ở đây"
                                                                       required=""
                                                                       th:field="*{title}">
                                                            </div>
                                                            <div class="form-group">
                                                                <label>Mô
                                                                    tả<em>*</em></label>
                                                                <textarea
                                                                        class="form-control"
                                                                        rows="8"
                                                                        name="answer"
                                                                        required=""
                                                                        placeholder="Viết mô tả ở đây"
                                                                        th:field="*{content}"></textarea>
                                                            </div>
                                                            <!--end title-->
                                                            <div class="comment-title">
                                                                <h4>Đánh giá: </h4>
                                                                <input type="text"
                                                                       id="ratingInput1"
                                                                       hidden=""
                                                                       oninput="updateRating(1, this.value)"
                                                                       th:field="*{star}"
                                                                       th:value="5">
                                                                <span onclick="gfg(1, 1)"
                                                                      class="star">★</span>
                                                                <span onclick="gfg(2, 1)"
                                                                      class="star">★</span>
                                                                <span onclick="gfg(3, 1)"
                                                                      class="star">★</span>
                                                                <span onclick="gfg(4, 1)"
                                                                      class="star">★</span>
                                                                <span onclick="gfg(5, 1)"
                                                                      class="star">★</span>
                                                            </div>
                                                            <input type="text"
                                                                   class="form-control"
                                                                   name="houseId"
                                                                   hidden
                                                                   th:value="${houseId}">

                                                            <!--end form-group-->
                                                            <div class="form-group pull-right">
                                                                <button type="submit"
                                                                        class="btn btn-primary btn-rounded">
                                                                    Gửi đánh giá
                                                                </button>
                                                                <a th:href="@{/deleteHouseCmt(houseId=${houseId})}" th:if="${feedbackEntity.getStar()!=0}">
                                                                    <button class="btn btn-primary btn-rounded"
                                                                            type="button"
                                                                            style="background-color: red">
                                                                        Xóa
                                                                    </button>
                                                                </a>

                                                            </div>

                                                            <!--end form-group-->
                                                            <!--end col-md-4-->
                                                            <!--end row-->
                                                        </div>
                                                        <!--end comment-->
                                                    </div>
                                                    <input type="hidden"
                                                           th:field="*{memberId}">
                                                    <input type="hidden"
                                                           th:field="*{houseId}">
                                                    <!--end review-->
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--                                -->

                            </div>
                            <!--end reviews-->
                        </section>
                        <!--                        <div th:if="${session.user != null}">-->
                        <!--                            <section id="write-a-review" th:if="${count == 0}">-->
                        <!--                                <h2>Viết đánh giá</h2>-->
                        <!--                                <form class="labels-uppercase clearfix" id="form_reply_1" th:object="${feedbackEntity}" th:action="@{/detail}" method="post">-->
                        <!--                                    &lt;!&ndash;                                <div class="alert alert-dark fade in center" role="alert">&ndash;&gt;-->
                        <!--                                    &lt;!&ndash;                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"&ndash;&gt;-->
                        <!--                                    &lt;!&ndash;                                            data-switch="#review-write">&ndash;&gt;-->
                        <!--                                    &lt;!&ndash;                                        <span aria-hidden="true">&times;</span>&ndash;&gt;-->
                        <!--                                    &lt;!&ndash;                                    </button>&ndash;&gt;-->
                        <!--                                    &lt;!&ndash;                                    <span class="sr-only">Error:</span>&ndash;&gt;-->
                        <!--                                    &lt;!&ndash;                                    <a href="#tab-sign-in" data-toggle="modal" data-tab="true"&ndash;&gt;-->
                        <!--                                    &lt;!&ndash;                                       data-target="#sign-in-register-modal">Xin mời đăng nhập để đánh giá</a>&ndash;&gt;-->
                        <!--                                    &lt;!&ndash;                                </div>&ndash;&gt;-->
                        <!--                                    <div class="review write" id="review-write">-->
                        <!--                                        <span class="name">Tên người dùng: </span><span th:text="${user.getFirstName()}"></span><span> </span><span th:text="${user.getLastName()}"></span>-->


                        <!--                                        <div class="comment" style="margin-top: 10px">-->
                        <!--                                            <div class="comment-title">-->
                        <!--                                                <h4>Đánh giá về khu trọ</h4>-->
                        <!--                                            </div>-->
                        <!--                                            &lt;!&ndash;end title&ndash;&gt;-->
                        <!--                                            <div class="form-group">-->
                        <!--                                                <label for="form_reply_1-name">Tiêu đề đánh giá<em style="color: red">*</em></label>-->
                        <!--                                                <input type="text" class="form-control" id="form_reply_1-name"-->
                        <!--                                                       name="name" placeholder="Viết tiêu đề ở đây" required=""-->
                        <!--                                                       th:field="*{title}" pattern=".{20,}" title="Yêu cầu ít nhất 20 ký tự">-->
                        <!--                                            </div>-->
                        <!--                                            <div class="form-group">-->
                        <!--                                                <label for="form_reply_1-message">Mô tả<em style="color: red">*</em></label>-->
                        <!--                                                <textarea class="form-control" id="form_reply_1-message" rows="8"-->
                        <!--                                                          name="answer" required="" placeholder="Viết mô tả ở đây"-->
                        <!--                                                          th:field="*{content}" pattern=".{20,}" title="Yêu cầu ít nhất 20 ký tự"></textarea>-->
                        <!--                                            </div>-->


                        <!--&lt;!&ndash;                                            <div class="comment-title">&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <h4>Đánh giá: </h4>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <input type="text" id="ratingInput1" hidden="" oninput="updateRating(1, this.value)" th:field="*{star}">&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(1, 1)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(2, 1)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(3, 1)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(4, 1)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(5, 1)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                            </div>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                            <div class="comment-title">&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <h4>Đánh giá: </h4>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <input type="text" id="ratingInput2" hidden="" oninput="updateRating(2, this.value)" th:value="5" th:field="*{star}">&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(1, 2)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(2, 2)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(3, 2)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(4, 2)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                                <span onclick="gfg(5, 2)" class="star">★</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;                                            </div>&ndash;&gt;-->


                        <!--                                            <div class="form-group pull-right">-->
                        <!--                                                <button type="submit" class="btn btn-primary btn-rounded">Gửi đánh giá-->
                        <!--                                                </button>-->
                        <!--                                            </div>-->

                        <!--                                            &lt;!&ndash;end form-group&ndash;&gt;-->
                        <!--                                            &lt;!&ndash;end col-md-4&ndash;&gt;-->
                        <!--                                            &lt;!&ndash;end row&ndash;&gt;-->
                        <!--                                        </div>-->
                        <!--                                        &lt;!&ndash;end comment&ndash;&gt;-->
                        <!--                                    </div>-->
                        <!--                                    <input type="hidden" th:field="*{memberId}">-->
                        <!--                                    <input type="hidden" th:field="*{houseId}">-->
                        <!--                                    &lt;!&ndash;end review&ndash;&gt;-->
                        <!--                                </form>-->
                        <!--                                &lt;!&ndash;end form&ndash;&gt;-->
                        <!--                            </section>-->
                        <!--                        </div>-->

                    </div>
                    <!--end main-content-->
                </div>
                <!--end col-md-9-->
            </div>
            <!--end row-->
        </div>
        <!--end container-->
    </div>

    <!--end page-content-->
    <div th:replace="~{footer :: footerSection}"></div>
    <!--end page-footer-->
</div>
<!--end page-wrapper-->
<a href="#page-header" class="to-top scroll" data-show-after-scroll="600"><i class="arrow_up"></i></a>
<!--<div class="message-popup bottom-left" data-show-after-time="2000" data-close-after-time="5000">-->
<!--    <div class="close"><i class="fa fa-times"></i></div>-->
<!--    <p></p>-->
<!--</div>-->
<!--<div class="message-popup bottom-left featured" data-show-after-time="4000" data-close-after-time="5000">-->
<!--    <div class="close"><i class="fa fa-times"></i></div>-->
<!--    <div class="title">Just Booked!</div>-->
<!--    <p></p>-->
<!--</div>-->
<!--<div class="message-popup bottom-left" data-show-after-time="5000" data-close-after-time="5000">-->
<!--    <div class="close"><i class="fa fa-times"></i></div>-->
<!--    <p>Last booking was from <strong>France</strong></p>-->
<!--</div>-->
<script type="text/javascript" src="/assets/js/jquery-2.2.1.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery-migrate-1.2.1.min.js"></script>
<!--<script type="text/javascript" src="https://maps.google.com/maps/api/js"></script>-->
<script type="text/javascript" src="/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.validate.min.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap-datepicker.js"></script>
<script type="text/javascript" src="/assets/js/icheck.min.js"></script>
<script type="text/javascript" src="/assets/js/markerwithlabel_packed.js"></script>
<script type="text/javascript" src="/assets/js/owl.carousel.js"></script>
<script type="text/javascript" src="/assets/js/masonry.pkgd.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.simpleWeather.min.js"></script>
<!--<script type="text/javascript" src="/assets/js/maps.js"></script>-->
<script type="text/javascript" src="/assets/js/custom.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get initial rating from the input value or set default to 5 if it's 0
        initializeRating(1);
        initializeRating(2);
    });

    function initializeRating(index) {
        const initialRatingInput = document.getElementById("ratingInput" + index);
        let initialRating = initialRatingInput.value ? parseInt(initialRatingInput.value, 10) : 5;

        // If initial rating is 0, set it to 5
        if (initialRating === 0) {
            initialRating = 5;
            initialRatingInput.value = "5";
        }

        gfg(initialRating, index);
    }

    function updateRating(index, value) {
        // Convert input value to a number
        const rating = parseInt(value, 10);

        // Check if the value is a valid number between 1 and 5
        if (!isNaN(rating) && rating >= 1 && rating <= 5) {
            gfg(rating, index);
        } else {
            // If the input value is not valid, you can handle it here (e.g., display an error message)
        }
    }

    function gfg(n, index) {
        const stars = document.getElementsByClassName("star");
        const starIndex = index - 1;

        remove(stars, starIndex);

        for (let i = 0; i < n; i++) {
            let cls;
            if (n == 1) cls = "one";
            else if (n == 2) cls = "two";
            else if (n == 3) cls = "three";
            else if (n == 4) cls = "four";
            else if (n == 5) cls = "five";
            stars[starIndex * 5 + i].className = "star " + cls;
        }

        document.getElementById("ratingInput" + index).value = "" + n;
    }

    // To remove the pre-applied styling
    function remove(stars, starIndex) {
        for (let i = 0; i < 5; i++) {
            stars[starIndex * 5 + i].className = "star";
        }
    }



</script>

<script>

    function submitForm() {
        // Khi giá trị của dropdown thay đổi, tự động gửi form
        document.getElementById("filterForm").submit();
    }

</script>
<!--<script>-->
<!--    document.addEventListener('DOMContentLoaded', function() {-->
<!--        // Get initial rating from the input value or set default to 5 if it's 0-->
<!--        const initialRatingInput = document.getElementById("ratingInput");-->
<!--        let initialRating = initialRatingInput.value ? parseInt(initialRatingInput.value, 10) : 5;-->

<!--        // If initial rating is 0, set it to 5-->
<!--        if (initialRating === 0) {-->
<!--            initialRating = 5;-->
<!--            initialRatingInput.value = "5";-->
<!--        }-->

<!--        gfg(initialRating);-->
<!--    });-->

<!--    function updateRating(value) {-->
<!--        // Convert input value to a number-->
<!--        const rating = parseInt(value, 10);-->

<!--        // Check if the value is a valid number between 1 and 5-->
<!--        if (!isNaN(rating) && rating >= 1 && rating <= 5) {-->
<!--            gfg(rating);-->
<!--        } else {-->
<!--            // If the input value is not valid, you can handle it here (e.g., display an error message)-->
<!--        }-->
<!--    }-->
<!--</script>-->
<!--<script>-->
<!--    // script.js-->

<!--    // To access the stars-->
<!--    let stars = document.getElementsByClassName("star");-->

<!--    // Function to update rating-->
<!--    function gfg(n) {-->
<!--        remove();-->

<!--        for (let i = 0; i < n; i++) {-->
<!--            let cls;-->
<!--            if (n == 1) cls = "one";-->
<!--            else if (n == 2) cls = "two";-->
<!--            else if (n == 3) cls = "three";-->
<!--            else if (n == 4) cls = "four";-->
<!--            else if (n == 5) cls = "five";-->
<!--            stars[i].className = "star " + cls;-->
<!--        }-->
<!--        document.getElementById("ratingInput").value = "" + n;-->
<!--    }-->

<!--    // To remove the pre-applied styling-->
<!--    function remove() {-->
<!--        for (let i = 0; i < 5; i++) {-->
<!--            stars[i].className = "star";-->
<!--        }-->
<!--    }-->
<!--</script>-->
<script>
    function changeText() {
        var link = document.getElementById("toggleLink");

        // Kiểm tra xem lớp collapsed có tồn tại hay không
        if (link.classList.contains("collapsed")) {
            // Nếu có, thay đổi nội dung thành "Ẩn bớt" hoặc bất kỳ văn bản nào bạn muốn
            link.innerHTML = "Ẩn bớt";
        } else {
            // Ngược lại, chuyển về văn bản ban đầu "Thêm"
            link.innerHTML = " XEM CHI TIẾT DỊCH VỤ +";
        }
    }

</script>

<script th:src="@{'https://maps.googleapis.com/maps/api/js?key='+${key_map}+'&callback=initMap'}" async defer></script>


<!--<script th:src="@{'https://maps.googleapis.com/maps/api/js?key=AIzaSyA2QCKggXjXUJVgtPmIF1OjEEsOKxetuwY&callback=initMap'}" async defer></script>-->
<script>
    var map;
    var marker;
    var directionsRenderer;
    var directionsService;
    var currentDirections; // Lưu trữ thông tin về đường đi hiện tại


    function initMap() {
        var latitude = parseFloat(document.getElementById('latitude').value);
        var longitude = parseFloat(document.getElementById('longitude').value);

        // Tạo map với vị trí ban đầu
        map = new google.maps.Map(document.getElementById('map-item'), {
            center: {lat: latitude, lng: longitude},
            zoom: 16
        });



        //marker ban dau
        marker = new google.maps.Marker({
            position: {lat: latitude, lng: longitude},
            map: map
        });

    }

    function showDirections() {
        directionsService = new google.maps.DirectionsService();
        directionsRenderer = new google.maps.DirectionsRenderer({
            map: map
        });

        var latitude = parseFloat(document.getElementById('latitude').value);
        var longitude = parseFloat(document.getElementById('longitude').value);

        var destinationCoordinates = {lat: latitude, lng: longitude};

        // Xóa đường đi hiện tại nếu có
        clearCurrentDirections();

        calculateAndDisplayRoute(destinationCoordinates);
    }
    function calculateAndDisplayRoute(destination) {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                var locationType = document.getElementById('locationType').value;
                var origin;
                if (locationType === 'current') {
                    origin = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                } else if (locationType === 'fixed') {
                    origin = {
                        lat: 21.012905257236497,
                        lng: 105.52743491123319
                    };
                }

                var request = {
                    origin: origin,
                    destination: destination,
                    travelMode: 'DRIVING'
                };

                directionsService.route(request, function(result, status) {
                    if (status === 'OK') {
                        // Lưu trữ đường đi hiện tại
                        currentDirections = result;

                        // Hiển thị đường đi trên bản đồ
                        directionsRenderer.setDirections(result);

                        // Lấy thông tin thời gian và quãng đường từ kết quả API
                        var route = result.routes[0];
                        var duration = route.legs[0].duration.text;
                        var distance = route.legs[0].distance.text;

                        // Hiển thị thông tin trên bản đồ
                        showRouteInfo(duration, distance);
                    } else {
                        console.error('Error: Unable to retrieve directions.');
                    }
                });
            }, function() {
                // Xử lý lỗi
                console.error('Error: The Geolocation service failed.');
            });
        } else {
            // Trình duyệt không hỗ trợ Geolocation
            console.error('Error: Your browser doesn\'t support geolocation.');
        }
    }


    function clearCurrentDirections() {
        if (currentDirections) {
            // Xóa đường đi hiện tại trên bản đồ
            currentDirections.setMap(null);
            // Reset thông tin về đường đi hiện tại
            currentDirections = null;
            // Xóa thông tin trên bảng thông tin
            document.getElementById('directions-info').innerHTML = '';
        }
    }

    function showRouteInfo(duration, distance) {
        var infoContainer = document.getElementById('directions-info');
        infoContainer.innerHTML = '<strong>Thời gian đi:</strong> ' + duration + '<br><strong>Quãng đường:</strong> ' + distance;
        infoContainer.style.display = 'block'; // Hiển thị phần tử thông tin

        // Thêm thông tin vào bản đồ
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(infoContainer);
    }




</script>
<script>
    window.addEventListener('load', function() {
        var elementToRemove = document.querySelector('div[style*="background-color: white"]');
        if (elementToRemove) {
            elementToRemove.parentNode.removeChild(elementToRemove);
        }
    });
</script>

<script>
    window.addEventListener('load', function() {
        var elementToRemove = document.querySelector('div[style*="background-color: white"]');
        if (elementToRemove) {
            elementToRemove.parentNode.removeChild(elementToRemove);
        }
    });
</script>




<script th:src="@{/assets_admin/js/vendor.min.js}"></script>

<!-- Required datatable js -->
<script th:src="@{/assets_admin/libs/datatables/jquery.dataTables.min.js}"></script>
<script th:src="@{/assets_admin/libs/datatables/dataTables.bootstrap4.min.js}"></script>
<!-- Buttons examples -->
<script th:src="@{/assets_admin/libs/datatables/dataTables.buttons.min.js}"></script>
<script th:src="@{/assets_admin/libs/datatables/buttons.bootstrap4.min.js}"></script>
<script th:src="@{/assets_admin/libs/jszip/jszip.min.js}"></script>
<script th:src="@{/assets_admin/libs/pdfmake/pdfmake.min.js}"></script>
<script th:src="@{/assets_admin/libs/pdfmake/vfs_fonts.js}"></script>
<script th:src="@{/assets_admin/libs/datatables/buttons.html5.min.js}"></script>
<script th:src="@{/assets_admin/libs/datatables/buttons.print.min.js}"></script>

<!-- Responsive examples -->
<script th:src="@{/assets_admin/libs/datatables/dataTables.responsive.min.js}"></script>
<script th:src="@{/assets_admin/libs/datatables/responsive.bootstrap4.min.js}"></script>

<!-- Datatables init -->
<script th:src="@{/assets_admin/js/pages/datatables.init.js}"></script>

<!-- App js -->
<script th:src="@{/assets_admin/js/app.min.js}"></script>

</body>
