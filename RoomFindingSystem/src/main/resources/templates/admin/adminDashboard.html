<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
    <head>
        <meta charset="utf-8" />
        <title>Admin Dashboard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
        <meta content="Coderthemes" name="author" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="/assets_admin/images/favicon.ico">
        
        <!-- third party css -->
        <link href="/assets_admin/libs/datatables/dataTables.bootstrap4.css" rel="stylesheet" type="text/css" />
        <link href="/assets_admin/libs/datatables/buttons.bootstrap4.css" rel="stylesheet" type="text/css" />
        <link href="/assets_admin/libs/datatables/responsive.bootstrap4.css" rel="stylesheet" type="text/css" />


        <!-- App css -->
        <link href="/assets_admin/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/assets_admin/css/icons.min.css" rel="stylesheet" type="text/css" />
        <link href="/assets_admin/css/app.min.css" rel="stylesheet" type="text/css" />

    </head>

    <body>

        <!-- Begin page -->
        <div id="wrapper">
            <div th:replace="admin/header_admin :: admin_topbar"></div>
            


            
            <!-- ========== Left Sidebar Start ========== -->



            <!-- ============================================================== -->
            <!-- Start Page Content here -->
            <!-- ============================================================== -->

            <div class="content-page">
                <div class="content">
                    
                    <!-- Start Content-->
                    <div class="container-fluid">
                        
                        <!-- start page title -->
                        <div class="row">
                            <div class="col-12">
                                <div class="page-title-box">
                                    <div class="page-title-right">
                                        <ol class="breadcrumb m-0">
                                            <!-- <li class="breadcrumb-item"><a href="javascript: void(0);">Abstack</a></li> -->
                                            <li class="breadcrumb-item active">Dashboard</li>
                                        </ol>
                                    </div>
                                    <h4 class="page-title">Dashboard</h4>
                                </div>
                            </div>
                        </div>     
                        <!-- end page title --> 

                        <div class="row">
                            <div class="col-md-6 col-xl-3">
                                <div class="card-box tilebox-one">
                                    <i class="fe-home float-right"></i>
                                    <h5 class="text-muted text-uppercase mb-3 mt-0">Tổng số nhà trọ</h5>
                                    <h3 class="mb-3" data-plugin="counterup" th:text="${numberOfHouses}"></h3>
                                    <span class="badge badge-primary"> +11% </span> <span class="text-muted ml-2 vertical-middle">From previous period</span>
                                </div>
                            </div>

                            
                            <div class="col-md-6 col-xl-3">
                                <div class="card-box tilebox-one">
                                    <i class="fe-user float-right"></i>
                                    <h5 class="text-muted text-uppercase mb-3 mt-0">Tổng số người dùng</h5>
                                    <h3 class="mb-3"><span data-plugin="counterup" th:text="${numberOfUsers}"></span></h3>
                                    <span class="badge badge-primary"> 0% </span> <span class="text-muted ml-2 vertical-middle">From previous period</span>
                                </div>
                            </div>

                            <div class="col-md-6 col-xl-3">
                                <div class="card-box tilebox-one">
                                    <i class="fe-briefcase float-right"></i>
                                    <h5 class="text-muted text-uppercase mb-3 mt-0">Tổng số bài đăng</h5>
                                    <h3 class="mb-3" data-plugin="counterup" th:text="${numberOfPosts}"></h3>
                                    <span class="badge badge-primary"> +89% </span> <span class="text-muted ml-2 vertical-middle">Last year</span>
                                </div>
                            </div>

                            <div class="col-md-6 col-xl-3">
                                <div class="card-box tilebox-one">
                                    <i class="m mdi mdi-alert float-right"></i>
                                    <h5 class="text-muted text-uppercase mb-3 mt-0">Tổng số báo cáo</h5>
                                    <h3 class="mb-3" data-plugin="counterup" th:text="${numberOfReports}"></h3>
                                    <span class="badge badge-primary"> +89% </span> <span class="text-muted ml-2 vertical-middle">Last year</span>
                                </div>
                            </div>
                        </div>

                        


                        <div class="row">
                            <div class="col-xl-6">
                                <div class="card-box">
                                    <h4 class="header-title">Thống kê số lượng bài đăng</h4>

                                    <canvas id="bar" height="350" class="mt-4"></canvas>

                                </div>
                            </div>
                            <div class="col-xl-6">
                                <div class="card-box">
                                    <h4 class="header-title">Thống kê số bài báo cáo</h4>

                                    <canvas id="pie1" height="350" class="mt-4"></canvas>
                                    

                                </div>
                            </div>
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-12">
                                <div class="card-box table-responsive">
                                    <h4 class="header-title">Cập nhật thông tin phòng<b></b></h4>
                                    <p class="sub-header">

                                    </p>

                                    <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                        <thead>
                                        <tr>
                                            <th>Tên nhà trọ</th>
                                            <th>Tên phòng trọ</th>
                                            <th>Tên chủ trọ</th>
                                            <th>Trạng thái</th>
                                            <th>Kiểm tra lần cuối</th>
                                            <th>Update</th>
                                        </tr>
                                        </thead>


                                        <tbody>
                                        <tr th:each="room: ${roomStatusDto}">
                                            <td th:text="${room.houseName}"></td>
                                            <td th:text="${room.roomName}"></td>
                                            <td th:text="${room.fullName}"></td>
                                            <form th:action="@{/admin/updateStatusDate}" method="post">
                                                <td>
                                                    <select name="status">
                                                        <option value="Còn trống" th:selected="${room.status == 'Còn trống'}">Còn trống</option>
                                                        <option value="Đã có người ở" th:selected="${room.status == 'Đã có người ở'}">Đã có người ở</option>
                                                        <option value="Tìm người ở ghép" th:selected="${room.status == 'Tìm người ở ghép'}">Tìm người ở ghép</option>
                                                    </select>
                                                </td>
                                                <td th:text="${room.statusUpdateDate}"></td>
                                                <td>
                                                    <!-- Thêm một form cho mỗi phòng -->

                                                    <input type="hidden" name="roomId" th:value="${room.roomId}" />
                                                    <button type="submit" class="btn btn-warning">Update</button>

                                                </td>
                                            </form>
                                        </tr>


                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div> 
    
                        
                    </div> <!-- end container-fluid -->

                </div> <!-- end content -->

                

                <!-- Footer Start -->
                <div th:replace="admin/footer_admin :: admin_footer"></div>
                <!-- end Footer -->

            </div>

            <!-- ============================================================== -->
            <!-- End Page content -->
            <!-- ============================================================== -->

        </div>
        <!-- END wrapper -->

        <!-- Right Sidebar -->
        <div class="right-bar">
            <div class="rightbar-title">
                <a href="javascript:void(0);" class="right-bar-toggle float-right">
                    <i class="mdi mdi-close"></i>
                </a>
                <h5 class="m-0 text-white">Settings</h5>
            </div>
            <div class="slimscroll-menu">
                <hr class="mt-0">
                <h5 class="pl-3">Basic Settings</h5>
                <hr class="mb-0" />


                <div class="p-3">
                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="customCheck1" checked>
                        <label class="custom-control-label" for="customCheck1">Notifications</label>
                    </div>
                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="customCheck2" checked>
                        <label class="custom-control-label" for="customCheck2">API Access</label>
                    </div>
                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="customCheck3">
                        <label class="custom-control-label" for="customCheck3">Auto Updates</label>
                    </div>
                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="customCheck4" checked>
                        <label class="custom-control-label" for="customCheck4">Online Status</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="customCheck5">
                        <label class="custom-control-label" for="customCheck5">Auto Payout</label>
                    </div>
                </div>

                <!-- Messages -->
                <hr class="mt-0" />
                <h5 class="pl-3 pr-3">Messages <span class="float-right badge badge-pill badge-danger">24</span></h5>
                <hr class="mb-0" />
                <div class="p-3">
                    <div class="inbox-widget">
                        <div class="inbox-item">
                            <div class="inbox-item-img"><img src="/assets_admin/images/users/avatar-1.jpg" class="rounded-circle" alt=""></div>
                            <p class="inbox-item-author"><a href="javascript: void(0);">Chadengle</a></p>
                            <p class="inbox-item-text">Hey! there I'm available...</p>
                            <p class="inbox-item-date">13:40 PM</p>
                        </div>
                        <div class="inbox-item">
                            <div class="inbox-item-img"><img src="/assets_admin/images/users/avatar-2.jpg" class="rounded-circle" alt=""></div>
                            <p class="inbox-item-author"><a href="javascript: void(0);">Tomaslau</a></p>
                            <p class="inbox-item-text">I've finished it! See you so...</p>
                            <p class="inbox-item-date">13:34 PM</p>
                        </div>
                        <div class="inbox-item">
                            <div class="inbox-item-img"><img src="/assets_admin/images/users/avatar-3.jpg" class="rounded-circle" alt=""></div>
                            <p class="inbox-item-author"><a href="javascript: void(0);">Stillnotdavid</a></p>
                            <p class="inbox-item-text">This theme is awesome!</p>
                            <p class="inbox-item-date">13:17 PM</p>
                        </div>

                        <div class="inbox-item">
                            <div class="inbox-item-img"><img src="/assets_admin/images/users/avatar-4.jpg" class="rounded-circle" alt=""></div>
                            <p class="inbox-item-author"><a href="javascript: void(0);">Kurafire</a></p>
                            <p class="inbox-item-text">Nice to meet you</p>
                            <p class="inbox-item-date">12:20 PM</p>

                        </div>
                        <div class="inbox-item">
                            <div class="inbox-item-img"><img src="/assets_admin/images/users/avatar-5.jpg" class="rounded-circle" alt=""></div>
                            <p class="inbox-item-author"><a href="javascript: void(0);">Shahedk</a></p>
                            <p class="inbox-item-text">Hey! there I'm available...</p>
                            <p class="inbox-item-date">10:15 AM</p>

                        </div>
                    </div> <!-- end inbox-widget -->
                </div> <!-- end .p-3-->

            </div> <!-- end slimscroll-menu-->
        </div>
        <!-- /Right-bar -->

        <!-- Right bar overlay-->
        <div class="rightbar-overlay"></div>

        <!-- Vendor js -->
        <script src="/assets_admin/js/vendor.min.js"></script>

        <!-- Required datatable js -->
        <script src="/assets_admin/libs/datatables/jquery.dataTables.min.js"></script>
        <script src="/assets_admin/libs/datatables/dataTables.bootstrap4.min.js"></script>
        
         <!-- Buttons examples -->
         <script src="/assets_admin/libs/datatables/dataTables.buttons.min.js"></script>
         <script src="/assets_admin/libs/datatables/buttons.bootstrap4.min.js"></script>
         <script src="/assets_admin/libs/jszip/jszip.min.js"></script>
         <script src="/assets_admin/libs/pdfmake/pdfmake.min.js"></script>
         <script src="/assets_admin/libs/pdfmake/vfs_fonts.js"></script>
         <script src="/assets_admin/libs/datatables/buttons.html5.min.js"></script>
         <script src="/assets_admin/libs/datatables/buttons.print.min.js"></script>
 

         <!-- Chart JS -->
         <script src="/assets_admin/libs/chart-js/Chart.bundle.min.js"></script>
         
         <!-- Responsive examples -->
        <script src="/assets_admin/libs/datatables/dataTables.responsive.min.js"></script>
        <script src="/assets_admin/libs/datatables/responsive.bootstrap4.min.js"></script>



          <!-- Init js -->
        <script src="/assets_admin/js/pages/dashboard.init.js"></script>
        
       

        <!-- App js -->
        <script src="/assets_admin/js/app.min.js"></script>
        
    </body>
</html>